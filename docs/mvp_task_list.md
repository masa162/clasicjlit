# 【古の音】MVP開発タスクリスト

**目標:** 20時間以内でのMVP機能実装

---

## フェーズ1: 基盤構築 (約4時間)

-   [ ] **1-1. プロジェクト初期設定**
    -   [ ] Next.js (App Router), TypeScript, Tailwind CSSでプロジェクトを新規作成
    -   [ ] GitHubリポジトリの作成とPush
    -   [ ] Cloudflare PagesとGitHubリポジトリを連携し、CI/CDを設定
-   [ ] **1-2. データベース (Cloudflare D1)**
    -   [ ] `wrangler.toml` を設定
    -   [ ] `schema.sql` ファイルにテーブル定義を記述 (`authors`, `works`, `chapters`, `categories`, `chapter_categories`)
    -   [ ] D1データベースを作成し、マイグレーションを実行
-   [ ] **1-3. オブジェクトストレージ (Cloudflare R2)**
    -   [ ] 音源ファイル保存用のR2バケットを作成
    -   [ ] R2バケットを公開設定し、カスタムドメイン（または `r2.dev` URL）を紐付け
-   [ ] **1-4. データベース接続設定**
    -   [ ] D1に接続するためのlibファイル (`src/lib/d1.ts` など) を作成
    -   [ ] R2に接続するためのlibファイル (`src/lib/r2.ts` など) を作成

---

## フェーズ2: 管理画面の実装 (約8時間)

-   [ ] **2-1. 管理画面の骨格と認証**
    -   [ ] `app/(admin)` ルートグループを作成
    -   [ ] `middleware.ts` を使用して、`/admin` 配下にBasic認証を実装
    -   [ ] 管理画面用の共通レイアウト (`layout.tsx`) を作成
-   [ ] **2-2. マスタデータ管理 (著者・カテゴリ)**
    -   [ ] 著者マスタのCRUD（作成・一覧・編集・削除）UIとAPIを作成
    -   [ ] カテゴリマスタのCRUD UIとAPIを作成
-   [ ] **2-3. 作品 (Works) 管理**
    -   [ ] 作品のCRUD UIとAPIを作成
-   [ ] **2-4. チャプター (Chapters) 管理**
    -   [ ] チャプターのCRUD UIとAPIを作成
    -   [ ] 記事本文入力用に `react-simple-mde-editor` を導入
    -   [ ] 音源ファイルアップロードAPI (`/api/upload`) を作成し、R2へのアップロード機能を実装
    -   [ ] アップロードした音源のURLをチャプターデータに紐付け

---

## フェーズ3: フロントエンド（一般公開側）の実装 (約8時間)

-   [ ] **3-1. サイト共通レイアウト**
    -   [ ] `app/(frontend)` ルートグループを作成
    -   [ ] 3カラムレイアウトの骨格をCSSで作成
    -   [ ] ヘッダー、フッター、左ナビゲーションコンポーネントを作成
-   [ ] **3-2. 作品・チャプター一覧表示**
    -   [ ] トップページ (`/`) に作品一覧を表示 (SSG)
    -   [ ] 作品詳細ページ (`/works/[workId]`) にチャプター一覧を表示 (SSG)
-   [ ] **3-3. チャプター詳細と音源再生**
    -   [ ] チャプター詳細ページ (`/works/[workId]/chapters/[chapterId]`) を作成 (SSG)
    -   [ ] `react-markdown` を使用して記事本文を表示
    -   [ ] HTML5 `<audio>` タグをベースにしたカスタムオーディオプレイヤーコンポーネントを作成
        -   [ ] 再生/一時停止
        -   [ ] シークバー
        -   [ ] 10秒早送り/巻き戻し
        -   [ ] 再生速度変更 (0.75x, 1x, 1.25x, 1.5x)
-   [ ] **3-4. 仕上げ**
    -   [ ] 検索機能の実装
    -   [ ] レスポンシブデザイン対応
    -   [ ] UIの英語/日本語切り替え機能 (i18n) の簡易実装

---